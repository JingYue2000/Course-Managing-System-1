webpackJsonp([15],{"3tke":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),l=a.n(n),i=a("exGp"),r=a.n(i),o=a("QqOR"),c=a("UKzA"),u={name:"User",data:function(){return{query:{nameSearch:"",currentPage:1,pageSize:5},total:0,Height:0,tableData:[],nameSearch:"",isShow:!1,uploadVisible:!1,form:{},id:-1}},created:function(){this.getData()},methods:{getData:function(){var e=this;Object(c.d)(this.query).then(function(t){e.tableData=t.data,e.total=t.data.length})},handleSizeChange:function(e){this.query.currentPage=1,this.query.pageSize=e},handleCurrentChange:function(e){this.query.currentPage=e},downloadHandle:function(e,t){var a=this;return r()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.loadingOverLay=a.$loading({lock:!0,text:"文件生成中",spinner:"el-icon-loading",background:"rgba(0,0,0,0.7)"}),(t=document.createElement("iframe")).style.display="none",document.body.appendChild(t),a.loadingOverLay.close();case 5:case"end":return e.stop()}},e,a)}))()}},mounted:function(){var e=this;this.Height=document.documentElement.clientHeight-120,window.onresize=function(){e.Height=document.documentElement.clientHeight-120}},components:{UploadBigFile:o.default}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{staticStyle:{"text-align":"left"}},[a("div",{staticClass:"el-icon-folder",style:{Height:e.Height+"px"}},[e._v("简易文件管理")])]),e._v(" "),a("el-main",{style:{minHeight:e.Height+"px"}},[a("router-view"),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.query.currentPage-1)*e.query.pageSize,e.query.currentPage*e.query.pageSize)}},[e.isShow?a("el-table-column",{attrs:{prop:"id",label:"ID",width:"120",align:"center"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"filename",label:"文件名",width:"500","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalSizeName",label:"文件大小",width:"200"}}),e._v(" "),e.isShow?a("el-table-column",{attrs:{prop:"location",label:"location",align:"center"}}):e._e(),e._v(" "),e.isShow?a("el-table-column",{attrs:{prop:"identifier",label:"identifier",align:"center"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"uploadTimeString",label:"上传时间",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"blue",attrs:{type:"text",icon:"el-icon-download",size:"small"},on:{click:function(a){return e.downloadHandle(t.$index,t.row)}}},[e._v("下载")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{align:"center",background:"","current-page":e.query.currentPage,"page-sizes":[1,5,10,20],"page-size":e.query.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-footer",[a("li",{staticClass:"mr-3 mr-lg-0"},[e._v("© 2020 项目管理, Inc.All rights reserved.")])])],1)},staticRenderFns:[]},d=a("VU/8")(u,s,!1,function(e){a("Z/db"),a("zcwW")},"data-v-20aa0bd0",null);t.default=d.exports},"Z/db":function(e,t){},zcwW:function(e,t){}});